# IoMT-Based ECG Monitoring using an ESP8266 and a Raspberry Pi 4B

## Preface

The electrocardiogram (ECG) records the electrical signals generated by the heart with electrodes placed on various parts of the body. This project uses a low-cost 3-electrode ECG sensor interfaced with an ESP8266 (NodeMCU), which transmits the ECG signal over WiFi using the MQTT protocol to a Raspberry Pi 4B. The RPi displays the signal and filters it to calculate the heart rate from the past 10 seconds of data.

## Block diagram

![alt text](https://github.com/zainamir-98/iomt-ecg/blob/main/Untitled%20Document.png)
  
## Circuit diagram

## RPi dependancies

Install the mosquitto broker on the RPi to allow it to act as an MQTT broker (a server). You can follow [this](https://randomnerdtutorials.com/how-to-install-mosquitto-broker-on-raspberry-pi/) tutorial. Note that once you install mosquitto, the broker program will be running in the background each time you start-up the RPi.

Next, install Paho MQTT (a Python package) on your RPi either through your IDE of choice (I used Thonny), or through the terminal. In this case, use `pip install paho-mqtt`. Note that you will have to run the .py script through the terminal if you choose not to use an IDE, which I haven't tested.

With this your RPi should be configured.

## Hardware
* AD8232 ECG sensor
* NodeMCU (ESP232)
* Raspberry Pi 4B (4GB RAM)
